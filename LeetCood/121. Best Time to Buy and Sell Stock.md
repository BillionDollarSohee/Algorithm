[리트코드 121. - 주식을 사고 팔기 가장 좋은 시](https://leetcode.com/problems/best-time-to-buy-and-sell-stock/)

문제 : 한 번의 거래로 낼 수 있는 최대의 이익을 산출하라.
입력 : [8, 1, 5, 3, 6, 4]
출력 : 5 (1일 때 사서 6일 때 팔면 최대 5의 이익을 얻는다)

이 문제는 저점에 사서 고점에 팔아, 낼 수 있는 최대의 이익을 찾는 흥미로운 문제다.
가장 먼저 접근할 풀이법은 브루트 포스다. 처음부터 O(n²)으로 사고 팔고를 반복하면,
마지막에 최대 이익을 산출할 수 있다.

<img width="1045" height="663" alt="image" src="https://github.com/user-attachments/assets/3201ee1b-b10c-427c-bf5b-6a33c9b0145d" />
문제를 그래프를 그려보면서 이해하면 직관적으로 풀이에 대한 생각이 떠오르기도 한다.
이와 같은 시각화 작업을 기술 통계학이라고도 하며, 통계학에서도 매우 중요한 연구 분야기도 하다.


## 자바 풀이 1. 브루트 포스

```java
class Solution {
    public int maxProfit(int[] prices) {
        int maxProfit = 0;

        for (int i = 0; i < prices.length; i++) {
            for (int j = i + 1; j < prices.length; j++) {
                maxProfit = Math.max(maxProfit, prices[j] - prices[i]);
            }
        }

        return maxProfit;
    }
}
```

<img width="695" height="188" alt="image" src="https://github.com/user-attachments/assets/5dbaf3fa-f681-4466-ba8d-f79f9c00a3fc" />
2중 for문을 사용한 결과 시간초과로 채점에 실패했다.

## 자바 풀이 2. 저점과 현재값과의 차이 계산
이번에는 저점을 정하고(처음에는 인덱스 0이 저점), 우측으로 이동하면서 현재값과 저점의 차이가 가장 크면 교체하면서, 마지막까지 순회하여 최대이익을 구해본다

```java
class Solution {
    public int maxProfit(int[] prices) {
        int minPrice = Integer.MAX_VALUE;
        int maxProfit = 0;

        for (int price : prices) {
            minPrice = Math.min(minPrice, price);
            maxProfit = Math.max(maxProfit, price - minPrice);
        }
        return maxProfit;
    }
}
```
<img width="681" height="437" alt="image" src="https://github.com/user-attachments/assets/4e5ca2cc-8f12-4f36-a142-c8089f0e5611" />

## 코틀린 풀이 
```kotlin
class Solution {
    fun maxProfit(prices: IntArray): Int {
        if (prices.isEmpty()) return 0

        var maxProfit = 0
        var minPrice = prices[0]

        for (price in prices) {
            minPrice = minPrice.coerceAtMost(price)               // 최소값 갱신
            maxProfit = maxProfit.coerceAtLeast(price - minPrice) // 최대 이익 갱신
        }

        return maxProfit
    }
}
```

<img width="682" height="439" alt="image" src="https://github.com/user-attachments/assets/fc926e55-3949-4cf5-83e8-d5c707145c67" />

