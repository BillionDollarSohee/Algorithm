https://leetcode.com/problems/add-two-numbers/description/

# 두 수의 덧셈
문제 : 역순으로 저장된 연결 리스트의 숫자를 더하라.
입력 : (2 -> 4 -> 3) + (5 -> 6 -> 2)
결과 : 342 + 256 = 607

## 자바풀이1. 자료형 변환
처음 드는 생각은 연결리스트를 순회하며 한글자씩 문자열로 만든다음 숫자로 바꾸는 방법이다.
그런데 리트코드에서 예제값에 매우 큰 연결리스트가 있기 때문에 BigInteger로 선언하여 풀 수 있다.
다만 결과 또한 역순 연결리스트다보니 코드가 다소 길수밖에 없다.

```java
import java.math.BigInteger;

class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode Reversed1 = reverseList(l1);
        ListNode Reversed2 = reverseList(l2);
        BigInteger result = toBigInt(Reversed1).add(toBigInt(Reversed2));
        return toReversedLinkedList(result);
    }

    public ListNode reverseList(ListNode head) {
        ListNode prev = null, node = head;
        while (node != null) {
            ListNode next = node.next;
            node.next = prev;
            prev = node;
            node = next; 
        }        
        return prev;
    }

    // 연결리스트를 BigInt로
    public BigInteger toBigInt(ListNode node) {
        String val = "";
        while (node != null) {
            val += node.val;
            node = node.next;  
        }
        return new BigInteger(val);
    }

    // BigInt를 연결리스트로
    public ListNode toReversedLinkedList(BigInteger val) {
        ListNode prev = null, node = null;
        for (char c : String.valueOf(val).toCharArray()) {
            node = new ListNode(Character.getNumericValue(c)); 
            node.next = prev;
            prev = node;
        }
        return node;
    }
}
```

<img width="690" height="437" alt="image" src="https://github.com/user-attachments/assets/b588d910-a929-43e0-b207-c566a392db89" />


## 자바풀이2. 전가산기 구현
그렇다면 좀 더 우아하고 깔끔한 풀이를 살펴보자.
전가산기(Full Adder)란 2진법 덧셈 연산을 수행하는 논리 회로의 원리로,
+, - 연산자 없이 비트 연산만으로 덧셈을 구현한다.
산술 논리 장치인 CPU의 한 부분이기도 하다.

### 전가산기의 구성
입력 
- A, B: 더할 두 비트
- C_in: 이전 단계에서의 자리올림 입력

출력
- S: 합(Sum)
- C_out: 자리올림 출력(Carry out)

쉽게 설명하면 7+5에서 받아올림 1이 생기는 것처럼
7과 5와 받아올림1 을 확인해서
S: 더한 결과 일의 자리와
C_out: 다음으로 넘겨줄 받아올림 (십의 자리)로 볼 수 있으며
10진법이 아닌 2진법으로 계산된다.

실제 전가산기 구현문제는 리트코드 78번에 있으며, 여기서는 전체적인 구조만 참고할 것이다.
연결리스트의 시작점을 고정하기 위한 dummy노드를 만들고
자리올림을 0으로 초기화한다.
먼저 이전 자리에서 넘어온 carry를 sum에 더하고 현재 노드의 값을 더한다.
carry = sum / 10 으로 다음 자리로 넘길 올림값을 계산하고,
sum % 10은 현재 자리의 결과 숫자이므로 이 값을 새 노드로 만들어 결과 리스트에 연결한다.
curr 포인터를 새로 만든 노드로 이동하고 l1, l2 포인터도 각각 다음 노드로 이동시킨다.
반복이 종료되면 dummy.next부터가 실제 결과 리스트이므로 그걸 반환한다.


```java
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode dummy = new ListNode(0);
        ListNode curr = dummy;
        int carry = 0;

        while (l1 != null || l2 != null || carry != 0) {
            int sum = carry;
            if (l1 != null) {
                sum += l1.val;
                l1 = l1.next;
            }
            if (l2 != null) {
                sum += l2.val;
                l2 = l2.next;
            }

            carry = sum / 10;
            curr.next = new ListNode(sum % 10);
            curr = curr.next;
        }

        return dummy.next;
    }
}
```

```
(2→4→3) + (5→6→4)
carry=0

Step1: 2+5+0=7 → node(7)
Step2: 4+6+0=10 → node(0), carry=1
Step3: 3+4+1=8 → node(8)
결과: 7→0→8
```

성능이 확실히 좋아졌다.
<img width="687" height="439" alt="image" src="https://github.com/user-attachments/assets/862125df-c76c-4025-aa52-1175e0583b82" />


## 코틀린풀이. 전가산기 구현
```kotlin
class Solution {
    fun addTwoNumbers(l1: ListNode?, l2: ListNode?): ListNode? {
        val dummy = ListNode(0)
        var curr = dummy
        var p = l1
        var q = l2
        var carry = 0

        while (p != null || q != null || carry != 0) {
            var sum = carry
            if (p != null) {
                sum += p.`val`
                p = p.next
            }
            if (q != null) {
                sum += q.`val`
                q = q.next
            }

            carry = sum / 10
            curr.next = ListNode(sum % 10)
            curr = curr.next!!
        }

        return dummy.next
    }
}
```

<img width="686" height="440" alt="image" src="https://github.com/user-attachments/assets/3f823a5e-7348-4cfb-aa65-5522fdad1530" />

